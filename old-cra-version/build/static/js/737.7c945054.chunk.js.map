{"version":3,"file":"static/js/737.7c945054.chunk.js","mappings":"qMAgBA,MAAMA,EAAoCC,IAKnC,IALoC,iBACzCC,EAAgB,eAChBC,EAAc,QACdC,EAAO,SACPC,GACDJ,EAEC,MAAMK,EAAQC,EAAAA,YAAmBC,IAC/B,MACMC,EADQD,EAAQE,WACFP,IAAmB,EAGvC,MAAO,CACLQ,UAHYN,EAASI,EAAON,GAI5BS,OAAQ,EACRC,QAAS,EACTC,MAAO,UACPC,UAAW,GACXC,YAAa,KAEd,CAACb,EAAgBE,IAGdY,EAAgBV,EAAAA,YAAkB,CAACC,EAAcU,KACrD,MAAMC,EAAQX,EAAQE,WAEtBQ,EAAME,GAAG,CACPC,UAAYC,IACVlB,EAAQe,EAAMI,MACAD,EAAEE,OACVC,SAAS,CACbb,OAAQ,EACRE,MAAO,UACPE,YAAa,MAGjBU,SAAWJ,IACTlB,EAAQ,MACMkB,EAAEE,OACVC,SAASnB,EAAME,KAEvBmB,MAAOA,KAEL,MAAMC,EAAUC,SAASC,eAAe,gBAADC,OAAiBZ,EAAMI,KAAKS,QAAQ,OAAQ,OAC/EJ,GACFA,EAAQK,eAAe,CAAEC,SAAU,SAAUC,MAAO,eAM1DjB,EAAMkB,UAAU,gIAADL,OAEwCZ,EAAMI,KAAI,mLAAAQ,OAIxBZ,EAAMkB,aAAY,8IAAAN,OAIlBZ,EAAMmB,SAAQ,8IAAAP,OAIdZ,EAAMoB,SAAQ,gJAAAR,OAIdZ,EAAMqB,WAAU,uEAKxD,CAAClC,EAAOF,IAEX,OACEqC,EAAAA,EAAAA,MAACC,EAAAA,EAAY,CACXC,OAAQ,CAAC,SAAU,UACnBC,KAAM,GACNtC,MAAO,CAAEuC,OAAQ,OAAQC,MAAO,QAChCC,cAAc,EAAMC,SAAA,EAEpBC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CACRC,IAAI,qDACJC,YAAY,8EAEdH,EAAAA,EAAAA,KAACI,EAAAA,EAAO,CAENC,KAAMpD,EACNI,MAAOA,EACPW,cAAeA,GAHVd,OASb,EAAeI,EAAAA,KAAWP,E","sources":["components/CrimeMap.tsx"],"sourcesContent":["// Lazy-loaded map component for better performance\nimport React from 'react';\nimport { MapContainer, TileLayer, GeoJSON } from 'react-leaflet';\nimport { Layer } from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { NeighborhoodGeoJSON } from '../neighborhoods';\n\ntype CrimeMetric = 'violentCrime' | 'carTheft' | 'breakIns' | 'pettyTheft';\n\ninterface CrimeMapProps {\n  neighborhoodData: NeighborhoodGeoJSON;\n  selectedMetric: CrimeMetric;\n  onHover: (name: string | null) => void;\n  getColor: (value: number, metric: CrimeMetric) => string;\n}\n\nconst CrimeMap: React.FC<CrimeMapProps> = ({\n  neighborhoodData,\n  selectedMetric,\n  onHover,\n  getColor\n}) => {\n  // Style function for GeoJSON polygons\n  const style = React.useCallback((feature: any) => {\n    const props = feature.properties;\n    const value = props[selectedMetric] || 0;\n    const color = getColor(value, selectedMetric);\n\n    return {\n      fillColor: color,\n      weight: 2,\n      opacity: 1,\n      color: '#666666',\n      dashArray: '',\n      fillOpacity: 0.6\n    };\n  }, [selectedMetric, getColor]);\n\n  // Event handlers for interactivity\n  const onEachFeature = React.useCallback((feature: any, layer: Layer) => {\n    const props = feature.properties;\n\n    layer.on({\n      mouseover: (e) => {\n        onHover(props.name);\n        const layer = e.target;\n        layer.setStyle({\n          weight: 3,\n          color: '#ffffff',\n          fillOpacity: 0.8\n        });\n      },\n      mouseout: (e) => {\n        onHover(null);\n        const layer = e.target;\n        layer.setStyle(style(feature));\n      },\n      click: () => {\n        // Scroll to neighborhood in stats panel\n        const element = document.getElementById(`neighborhood-${props.name.replace(/\\s+/g, '-')}`);\n        if (element) {\n          element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n        }\n      }\n    });\n\n    // Bind popup with neighborhood info\n    layer.bindPopup(`\n      <div style=\"color: #000; font-family: Arial, sans-serif;\">\n        <h3 style=\"margin: 0 0 10px 0; font-size: 16px;\">${props.name}</h3>\n        <table style=\"width: 100%; font-size: 13px;\">\n          <tr>\n            <td><strong>Violent Crime:</strong></td>\n            <td style=\"text-align: right;\">${props.violentCrime}/week</td>\n          </tr>\n          <tr>\n            <td><strong>Car Theft:</strong></td>\n            <td style=\"text-align: right;\">${props.carTheft}/week</td>\n          </tr>\n          <tr>\n            <td><strong>Break-ins:</strong></td>\n            <td style=\"text-align: right;\">${props.breakIns}/week</td>\n          </tr>\n          <tr>\n            <td><strong>Petty Theft:</strong></td>\n            <td style=\"text-align: right;\">${props.pettyTheft}/week</td>\n          </tr>\n        </table>\n      </div>\n    `);\n  }, [style, onHover]);\n\n  return (\n    <MapContainer\n      center={[34.0522, -118.2437]}\n      zoom={10}\n      style={{ height: '100%', width: '100%' }}\n      preferCanvas={true} // Use canvas for better performance with many features\n    >\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n      />\n      <GeoJSON\n        key={selectedMetric} // Re-render when metric changes\n        data={neighborhoodData}\n        style={style}\n        onEachFeature={onEachFeature}\n      />\n    </MapContainer>\n  );\n};\n\nexport default React.memo(CrimeMap);\n"],"names":["CrimeMap","_ref","neighborhoodData","selectedMetric","onHover","getColor","style","React","feature","value","properties","fillColor","weight","opacity","color","dashArray","fillOpacity","onEachFeature","layer","props","on","mouseover","e","name","target","setStyle","mouseout","click","element","document","getElementById","concat","replace","scrollIntoView","behavior","block","bindPopup","violentCrime","carTheft","breakIns","pettyTheft","_jsxs","MapContainer","center","zoom","height","width","preferCanvas","children","_jsx","TileLayer","url","attribution","GeoJSON","data"],"sourceRoot":""}